{
  "testPlans": [
    {
      "id": "test-plan-001",
      "resourceType": "InsurancePlan",
      "name": "Basic Medical Plan",
      "status": "active",
      "type": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/insurance-plan-type",
              "code": "medical",
              "display": "Medical"
            }
          ]
        }
      ],
      "period": {
        "start": "2024-01-01",
        "end": "2024-12-31"
      },
      "coverage": [
        {
          "type": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/insurance-coverage-type",
                "code": "medical",
                "display": "Medical"
              }
            ]
          },
          "benefit": [
            {
              "type": {
                "coding": [
                  {
                    "code": "preventive",
                    "display": "Preventive Care"
                  }
                ]
              },
              "requirement": "Annual physical exam covered at 100%",
              "limit": [
                {
                  "value": {
                    "value": 1,
                    "unit": "visit",
                    "system": "http://unitsofmeasure.org",
                    "code": "{visit}"
                  }
                }
              ]
            },
            {
              "type": {
                "coding": [
                  {
                    "code": "specialist",
                    "display": "Specialist Visit"
                  }
                ]
              },
              "requirement": "Referral required",
              "limit": [
                {
                  "value": {
                    "value": 20,
                    "unit": "visit",
                    "system": "http://unitsofmeasure.org",
                    "code": "{visit}"
                  }
                }
              ]
            }
          ]
        }
      ],
      "meta": {
        "versionId": "1",
        "lastUpdated": "2024-01-01T00:00:00.000Z"
      }
    },
    {
      "id": "test-plan-002",
      "resourceType": "InsurancePlan",
      "name": "Premium PPO Plan",
      "status": "active",
      "type": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/insurance-plan-type",
              "code": "ppo",
              "display": "Preferred Provider Organization"
            }
          ]
        }
      ],
      "period": {
        "start": "2024-01-01",
        "end": "2024-12-31"
      },
      "coverage": [
        {
          "type": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/insurance-coverage-type",
                "code": "medical",
                "display": "Medical"
              }
            ]
          },
          "benefit": [
            {
              "type": {
                "coding": [
                  {
                    "code": "preventive",
                    "display": "Preventive Care"
                  }
                ]
              },
              "requirement": "Covered at 100% in-network",
              "limit": []
            },
            {
              "type": {
                "coding": [
                  {
                    "code": "specialist",
                    "display": "Specialist Visit"
                  }
                ]
              },
              "requirement": "No referral required",
              "limit": []
            },
            {
              "type": {
                "coding": [
                  {
                    "code": "emergency",
                    "display": "Emergency Services"
                  }
                ]
              },
              "requirement": "Covered at 90% after deductible",
              "limit": []
            }
          ]
        }
      ],
      "meta": {
        "versionId": "2",
        "lastUpdated": "2024-02-15T10:30:00.000Z"
      }
    }
  ],
  "testDrafts": [
    {
      "id": "draft-001",
      "plan_data": {
        "resourceType": "InsurancePlan",
        "name": "Draft Plan - Pending Approval",
        "status": "draft",
        "type": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/insurance-plan-type",
                "code": "hmo",
                "display": "Health Maintenance Organization"
              }
            ]
          }
        ]
      },
      "status": "draft",
      "created_by": "test-user-001",
      "created_at": "2024-03-01T09:00:00.000Z",
      "updated_at": "2024-03-01T09:00:00.000Z"
    },
    {
      "id": "draft-002",
      "plan_data": {
        "resourceType": "InsurancePlan",
        "name": "Draft Plan - Submitted",
        "status": "draft"
      },
      "status": "submitted",
      "submission_id": "process-instance-001",
      "created_by": "test-user-002",
      "created_at": "2024-03-01T10:00:00.000Z",
      "updated_at": "2024-03-01T11:00:00.000Z"
    },
    {
      "id": "draft-003",
      "plan_data": {
        "resourceType": "InsurancePlan",
        "name": "Draft Plan - With Conflict",
        "status": "draft"
      },
      "status": "rejected",
      "aidbox_plan_id": "test-plan-001",
      "submission_metadata": {
        "conflictType": "VERSION_MISMATCH",
        "baseVersion": "1",
        "currentVersion": "2",
        "conflictDetectedAt": "2024-03-01T12:00:00.000Z",
        "message": "The plan was modified by another user during the approval process"
      },
      "created_by": "test-user-003",
      "created_at": "2024-03-01T08:00:00.000Z",
      "updated_at": "2024-03-01T12:00:00.000Z"
    }
  ],
  "testUsers": [
    {
      "id": "test-user-001",
      "name": "John Doe",
      "role": "plan-creator",
      "email": "john.doe@example.com"
    },
    {
      "id": "test-user-002",
      "name": "Jane Smith",
      "role": "plan-creator",
      "email": "jane.smith@example.com"
    },
    {
      "id": "test-user-003",
      "name": "Bob Johnson",
      "role": "plan-creator",
      "email": "bob.johnson@example.com"
    },
    {
      "id": "test-approver-001",
      "name": "Alice Williams",
      "role": "approver",
      "email": "alice.williams@example.com"
    },
    {
      "id": "test-approver-002",
      "name": "Charlie Brown",
      "role": "approver",
      "email": "charlie.brown@example.com"
    }
  ],
  "testProcessVariables": {
    "standard": {
      "draftId": { "value": "draft-001", "type": "String" },
      "draftSource": { "value": "retool", "type": "String" },
      "baseVersion": { "value": "new", "type": "String" },
      "aidboxPlanId": { "value": "new", "type": "String" },
      "submittedBy": { "value": "test-user-001", "type": "String" },
      "planName": { "value": "Test Plan", "type": "String" },
      "submittedAt": { "value": "2024-03-01T10:00:00.000Z", "type": "String" }
    },
    "withExistingPlan": {
      "draftId": { "value": "draft-002", "type": "String" },
      "draftSource": { "value": "retool", "type": "String" },
      "baseVersion": { "value": "1", "type": "String" },
      "aidboxPlanId": { "value": "test-plan-001", "type": "String" },
      "submittedBy": { "value": "test-user-002", "type": "String" },
      "planName": { "value": "Updated Test Plan", "type": "String" },
      "submittedAt": { "value": "2024-03-01T11:00:00.000Z", "type": "String" }
    },
    "approval": {
      "approved": { "value": true, "type": "Boolean" },
      "approverComments": { "value": "Approved for testing", "type": "String" },
      "approvedBy": { "value": "test-approver-001", "type": "String" },
      "approvedAt": { "value": "2024-03-01T12:00:00.000Z", "type": "String" }
    },
    "rejection": {
      "approved": { "value": false, "type": "Boolean" },
      "rejectionReason": { "value": "Missing required information", "type": "String" },
      "rejectedBy": { "value": "test-approver-001", "type": "String" }
    },
    "conflict": {
      "approved": { "value": false, "type": "Boolean" },
      "rejectionReason": { "value": "Version conflict detected: Plan modified by another user", "type": "String" },
      "conflictDetected": { "value": true, "type": "Boolean" },
      "conflictType": { "value": "VERSION_MISMATCH", "type": "String" },
      "baseVersion": { "value": "1", "type": "String" },
      "currentVersion": { "value": "2", "type": "String" },
      "voidedAt": { "value": "2024-03-01T12:30:00.000Z", "type": "String" },
      "voidedBy": { "value": "test-approver-002", "type": "String" }
    }
  },
  "expectedResponses": {
    "submitSuccess": {
      "success": true,
      "data": {
        "draftId": "draft-001",
        "processInstanceId": "process-instance-001",
        "status": "submitted"
      }
    },
    "conflictError": {
      "success": false,
      "error": "version_conflict",
      "conflictType": "VERSION_MISMATCH",
      "message": "The plan was modified by another user during the approval process. Please resubmit with the updated version.",
      "data": {
        "draftId": "draft-003",
        "aidboxPlanId": "test-plan-001",
        "baseVersion": "1",
        "currentVersion": "2",
        "taskId": "task-001",
        "voidedAt": "2024-03-01T12:30:00.000Z",
        "actionRequired": "Please refresh the draft from the latest version and resubmit for approval"
      }
    },
    "deletedPlanError": {
      "success": false,
      "error": "version_conflict",
      "conflictType": "DELETED",
      "message": "The plan was deleted from Aidbox during the approval process. Please create a new draft.",
      "data": {
        "draftId": "draft-004",
        "aidboxPlanId": "deleted-plan-001",
        "taskId": "task-002",
        "voidedAt": "2024-03-01T13:00:00.000Z"
      }
    },
    "taskEnriched": {
      "taskId": "task-001",
      "taskName": "Approve Benefit Plan",
      "created": "2024-03-01T11:00:00.000Z",
      "draftId": "draft-002",
      "planName": "Updated Test Plan",
      "submittedBy": "test-user-002",
      "submittedAt": "2024-03-01T11:00:00.000Z"
    },
    "approvalSuccess": {
      "success": true,
      "data": {
        "status": "approved_and_published",
        "aidboxId": "new-plan-001"
      }
    },
    "healthCheck": {
      "success": true,
      "status": "healthy",
      "service": "orchestration-api",
      "timestamp": "2024-03-01T14:00:00.000Z"
    }
  },
  "mockAidboxPlans": [
    {
      "id": "mock-plan-001",
      "resourceType": "InsurancePlan",
      "name": "Mock Active Plan",
      "status": "active",
      "meta": {
        "versionId": "1",
        "lastUpdated": "2024-01-01T00:00:00.000Z"
      }
    },
    {
      "id": "mock-plan-002",
      "resourceType": "InsurancePlan",
      "name": "Mock Plan with Multiple Versions",
      "status": "active",
      "meta": {
        "versionId": "3",
        "lastUpdated": "2024-02-20T14:30:00.000Z"
      }
    }
  ],
  "performanceBaselines": {
    "draftCreation": {
      "acceptable": 1000,
      "warning": 2000,
      "critical": 5000
    },
    "submission": {
      "acceptable": 2000,
      "warning": 3000,
      "critical": 5000
    },
    "taskRetrieval": {
      "acceptable": 500,
      "warning": 1000,
      "critical": 3000
    },
    "approval": {
      "acceptable": 3000,
      "warning": 4000,
      "critical": 5000
    }
  }
}
